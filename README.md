GOST V3 轻量主控+被控 交互式管理脚本

GOST V3 Light Manager 🚀

一款专为 小规模场景（≤50节点） 设计的GOST V3交互式管理脚本，支持自动拉取GitHub最新版本、极致资源优化、一键排错，主控+被控配套使用，部署零门槛、运行稳如狗！

🌟 核心特性

- 自动更新：无需手动修改版本号，脚本自动拉取GitHub最新GOST release版本

- 极致轻量：主控端整体资源占用＜50M，被控节点单节点＜5M，低配机/轻量云服务器无压力

- 功能齐全：安装/启停/配置/备份/排错一站式管理，新手也能快速上手

- 稳定性拉满：端口预检测、服务资源限制、启动延迟、密钥格式校验，减少90%意外故障

- 排错高效：一键生成排错日志，包含系统信息、服务状态、配置文件，快速定位问题

- 无缝兼容：支持CentOS7+/Ubuntu18+/Debian10+，适配x86_64/arm64架构

🚀 快速部署

一、主控端部署（管理节点）

# 下载脚本并赋予执行权限
wget -q https://raw.githubusercontent.com/你的用户名/仓库名/main/gost-manager-master.sh -O gost-manager-master.sh
chmod +x gost-manager-master.sh

# 运行脚本（无需提前安装依赖，脚本自动处理）
./gost-manager-master.sh

执行后选择 选项1 ，按提示完成安装，最终将输出：

- 面板访问地址（默认端口8080）

- gRPC端口（默认50051，被控节点连接用）

- 随机认证密钥（建议保存，被控节点需一致）

二、被控节点部署（代理节点）

# 下载脚本并赋予执行权限
wget -q https://raw.githubusercontent.com/你的用户名/仓库名/main/gost-manager-node.sh -O gost-manager-node.sh
chmod +x gost-manager-node.sh

# 运行脚本
./gost-manager-node.sh

执行后选择 选项1 ，按提示输入：

- 主控端gRPC地址（格式：主控IP:50051）

- 认证密钥（与主控端生成的一致）

安装完成后，可在主控端面板查看节点在线状态。

📋 功能菜单说明

主控端脚本（12项核心功能）

选项

功能描述

1

安装主控端（自动最新版+端口检测+随机密钥）

2-4

启动/停止/重启主控端服务

5

查看运行状态（服务状态+IP+配置信息）

6

查看实时日志（排错用）

7

修改核心配置（gRPC/面板端口）

8

卸载主控端（需输入uninstall验证，彻底清理）

9

配置备份/恢复（含配置文件+SQLite数据库）

10

一键生成排错日志（快速定位问题）

11

检测端口连通性（本机核心端口+监听状态）

12

优化SQLite数据库（碎片清理+体积压缩）

0

退出脚本

被控节点脚本（11项核心功能）

选项

功能描述

1

安装被控节点（自动最新版+主控配置+密钥校验）

2-4

启动/停止/重启被控节点服务

5

查看节点状态（服务状态+IP+主控配置）

6

查看实时日志（排错用）

7

重新配置主控信息（更换主控/密钥）

8

卸载被控节点（需输入uninstall验证）

9

测试主控连通性（PING+端口+服务状态三重检测）

10

一键生成排错日志（快速定位问题）

11

备份节点配置（防配置丢失）

0

退出脚本

🛠️ 关键优化说明

1. 资源限制（默认开启，无需手动配置）

- 主控端：CPU≤10%、内存≤32M、磁盘IO≤1M/s

- 被控节点：CPU≤5%、内存≤16M、磁盘IO≤512K/s

完全满足小规模场景需求，避免服务占用过多资源。

2. 自动最新版逻辑

脚本通过GitHub API拉取最新release版本，无需手动修改版本号，若网络无法访问GitHub，会提示错误并退出（可手动配置代理后重试）。

3. 安全特性

- 主控与被控节点通过TLS加密通信

- 认证密钥需≥8位（字母+数字组合），脚本自动校验

- 高危操作（卸载/重新安装）需二次验证，防止误操作

📌 适配环境

系统类型

版本要求

架构支持

CentOS

7.x及以上

x86_64/arm64

Ubuntu

18.04及以上

x86_64/arm64

Debian

10及以上

x86_64/arm64

❌ 常见问题排查

1. 安装时提示「GitHub访问失败」

- 原因：服务器无法访问GitHub API或下载资源

- 解决：配置服务器代理（如export https_proxy=你的代理地址），或手动下载GOST包放到/tmp目录

2. 被控节点无法连接主控端

- 执行被控节点脚本 选项9（测试主控连通性），按输出排查：

  - PING不通：检查主控端防火墙是否开放ICMP，或网络是否可达

  - 端口不通：检查主控端gRPC端口（默认50051）是否开放，主控服务是否运行

  - 密钥错误：重新执行被控节点 选项7 ，输入正确的认证密钥

3. 服务启动失败

- 执行对应脚本的 选项10（一键生成排错日志），将日志文件发送给维护者，或自行查看日志中的错误信息

📄 许可证

本项目采用 [MIT License](LICENSE) 开源，允许自由使用、修改和分发，前提是保留原作者版权声明。

🤝 贡献指南

1. Fork本仓库

2. 创建特性分支（git checkout -b feature/xxx）

3. 提交修改（git commit -m '添加xxx功能'）

4. 推送到分支（git push origin feature/xxx）

5. 提交Pull Request

欢迎大家提交Issue和PR，一起优化脚本功能！
